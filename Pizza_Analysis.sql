DROP TABLE IF EXISTS `orders`;
CREATE TABLE `orders` (
    `row_id` int  NOT NULL ,
    `order_id` varchar(10)  NOT NULL ,
    `created_at` datetime  NOT NULL ,
    `item_id` varchar(10)  NOT NULL ,
    `quantity` int  NOT NULL ,
    `cust_id` int  NOT NULL ,
    `delivery` boolean  NOT NULL ,
    `add_id` int  NOT NULL ,
    PRIMARY KEY (
        `row_id`
    )
);
DROP TABLE IF EXISTS `customers`;
CREATE TABLE `customers` (
    `cust_id` int  NOT NULL ,
    `cust_firstname` varchar(50)  NOT NULL ,
    `cust_lastname` varchar(50)  NOT NULL ,
    PRIMARY KEY (
        `cust_id`
    )
);
DROP TABLE IF EXISTS `address`;
CREATE TABLE `address` (
    `add_id` int  NOT NULL ,
    `delivery_address1` varchar(200)  NOT NULL ,
    `delivery_address2` varchar(200)  NULL ,
    `delivery_city` varchar(50)  NOT NULL ,
    `delivery_zipcode` varchar(20)  NOT NULL ,
    PRIMARY KEY (
        `add_id`
    )
);
DROP TABLE IF EXISTS `item`;
CREATE TABLE `item` (
    `item_id` varchar(10)  NOT NULL ,
    `sku` varchar(20)  NOT NULL ,
    `item_name` varchar(100)  NOT NULL ,
    `item_cat` varchar(100)  NOT NULL ,
    `item_size` varchar(10)  NOT NULL ,
    `item_price` decimal(10,2)  NOT NULL ,
    PRIMARY KEY (
        `item_id`
    )
);
DROP TABLE IF EXISTS `ingredient`;
CREATE TABLE `ingredient` (
    `ing_id` varchar(10)  NOT NULL ,
    `ing_name` varchar(200)  NOT NULL ,
    `ing_weight` int  NOT NULL ,
    `ing_meas` varchar(20)  NOT NULL ,
    `ing_price` decimal(5,2)  NOT NULL ,
    PRIMARY KEY (
        `ing_id`
    )
);
DROP TABLE IF EXISTS `recipe`;
CREATE TABLE `recipe` (
    `row_id` int  NOT NULL ,
    `recipe_id` varchar(20)  NOT NULL ,
    `ing_id` varchar(10)  NOT NULL ,
    `quantity` int  NOT NULL ,
    PRIMARY KEY (
        `row_id`
    )
);
DROP TABLE IF EXISTS `inventory`;
CREATE TABLE `inventory` (
    `inv_id` int  NOT NULL ,
    `item_id` varchar(10)  NOT NULL ,
    `quantity` int  NOT NULL ,
    PRIMARY KEY (
        `inv_id`
    )
);
DROP TABLE IF EXISTS `staff`;
CREATE TABLE `staff` (
    `staff_id` varchar(20)  NOT NULL ,
    `first_name` varchar(50)  NOT NULL ,
    `last_name` varchar(50)  NOT NULL ,
    `position` varchar(100)  NOT NULL ,
    `hourly_rate` decimal(5,2)  NOT NULL ,
    PRIMARY KEY (
        `staff_id`
    )
);
DROP TABLE IF EXISTS `shift`;
CREATE TABLE `shift` (
    `shift_id` varchar(20)  NOT NULL ,
    `day_of_week` varchar(10)  NOT NULL ,
    `start_time` time  NOT NULL ,
    `end_time` time  NOT NULL ,
    PRIMARY KEY (
        `shift_id`
    )
);

DROP TABLE IF EXISTS `rota`;
CREATE TABLE `rota` (
    `row_id` int  NOT NULL ,
    `rota_id` varchar(20)  NOT NULL ,
    `date` datetime  NOT NULL ,
    `shift_id` varchar(20)  NOT NULL ,
    `staff_id` varchar(20)  NOT NULL ,
    PRIMARY KEY (
        `row_id`
    )
)

INSERT INTO orders VALUES 
(1,'109','2022-08-10 13:22','it_001',2,1,1,1),
(2,'110','2022-08-10 13:53','it_003',1,2,1,2),  
(3,'111','2022-08-10 13:32','it_001',1,3,1,3),
(4,'111','2022-08-10 13:32','it_003',1,3,1,3),
(5,'112','2022-08-10 19:19','it_008',3,4,0,4),
(6,'112','2022-08-10 19:19','it_019',5,4,0,4),
(7,'112','2022-08-10 19:19','it_020',5,4,0,4),
(8,'112','2022-08-10 19:19','it_023',1,4,0,4),
(9,'112','2022-08-10 19:19','it_040',1,4,0,4),
(10,'113','2022-08-10 19:19','it_008',1,5,1,5),
(11,'113','2022-08-10 20:45','it_009',1,5,1,5),
(12,'113','2022-08-10 20:45','it_024',2,5,1,5), 
(13,'113','2022-08-10 20:45','it_022',1,5,1,5),
(14,'113','2022-08-10 20:45','it_025',3,5,1,5),
(15,'114','2022-08-10 12:05','it_003',1,6,1,6),
(16,'114','2022-08-10 12:05','it_002',1,6,1,6),
(17,'114','2022-08-10 12:05','it_010',1,6,1,6),
(18,'114','2022-08-10 12:05','it_018',1,6,1,6),
(19,'114','2022-08-10 12:05','it_020',1,6,1,6),
(20,'114','2022-08-10 12:05','it_025',1,6,1,6),
(21,'114','2022-08-10 12:05','it_026',1,6,1,6), 
(22,'114','2022-08-10 12:05','it_021',1,6,1,6),
(23,'114','2022-08-10 12:05','it_029',1,6,1,6),
(24,'115','2022-08-10 12:19','it_001',2,7,1,7),
(25,'115','2022-08-10 12:19','it_003',4,7,1,7),
(26,'115','2022-08-10 12:19','it_005',2,7,1,7),
(27,'115','2022-08-10 12:19','it_026',3,7,1,7),
(28,'115','2022-08-10 12:19','it_030',5,7,1,7),
(29,'116','2022-08-10 13:08','it_004',3,8,1,8),
(30,'116','2022-08-10 13:08','it_012',3,8,1,8),
(31,'116','2022-08-10 13:08','it_010',1,8,1,8),
(32,'116','2022-08-10 13:08','it_020',1,8,1,8),
(33,'116','2022-08-10 13:08','it_028',5,8,1,8),
(34,'117','2022-08-10 20:24','it_003',1,9,0,9),
(35,'117','2022-08-10 20:24','it_008',2,9,0,9),
(36,'117','2022-08-10 20:24','it_018',2,9,0,9),
(37,'117','2022-08-10 20:24','it_023',1,9,0,9),
(38,'118','2022-08-10 19:48','it_001',3,10,1,10),
(39,'118','2022-08-10 19:48','it_003',2,10,1,10),
(40,'118','2022-08-10 19:48','it_008',4,10,1,10),
(41,'118','2022-08-10 19:48','it_012',2,10,1,10), 
(42,'118','2022-08-10 19:48','it_013',1,10,1,10),
(43,'118','2022-08-10 19:48','it_010',1,10,1,10),
(44,'118','2022-08-10 19:48','it_005',5,10,1,10),
(45,'118','2022-08-10 19:48','it_017',4,10,1,10),
(46,'118','2022-08-10 19:48','it_020',4,10,1,10),
(47,'118','2022-08-10 19:48','it_027',10,10,1,10),
(48,'118','2022-08-10 19:48','it_026',5,10,1,10),
(49,'118','2022-08-10 19:48','it_043',10,10,1,10),
(50,'119','2022-08-10 22:05','it_013',1,11,1,11),
(51,'119','2022-08-10 22:05','it_004',1,11,1,11),
(52,'119','2022-08-10 22:05','it_010',1,11,1,11),
(53,'119','2022-08-10 22:05','it_024',2,11,1,11),
(54,'119','2022-08-10 22:05','it_028',3,11,1,11),
(55,'120','2022-08-10 14:20','it_033',1,12,0,12),
(56,'120','2022-08-10 14:20','it_036',1,12,0,12),
(57,'120','2022-08-10 14:20','it_026',1,12,0,12),
(58,'120','2022-08-10 14:20','it_022',2,12,0,12),
(59,'120','2022-08-10 14:20','it_019',1,12,0,12),
(60,'120','2022-08-10 14:20','it_018',1,12,0,12), 
(61,'120','2022-08-10 14:20','it_004',1,12,0,12),
(62,'121','2022-08-10 12:05','it_004',2,13,1,13),
(63,'121','2022-08-10 12:05','it_009',4,13,1,13),  
(64,'121','2022-08-10 12:05','it_019',1,13,1,13),
(65,'121','2022-08-10 12:05','it_033',1,13,1,13),
(66,'122','2022-08-10 18:34','it_012',1,14,1,14),
(67,'122','2022-08-10 18:34','it_020',2,14,1,14),
(68,'122','2022-08-10 18:34','it_025',1,14,1,14),
(69,'122','2022-08-10 18:34','it_037',2,14,1,14),
(70,'123','2022-08-10 18:43','it_007',1,15,1,15),
(71,'123','2022-08-10 18:43','it_012',5,15,1,15),
(72,'123','2022-08-10 18:43','it_009',2,15,1,15),
(73,'123','2022-08-10 18:43','it_019',2,15,1,15),
(74,'123','2022-08-10 18:43','it_022',12,15,1,15),
(75,'123','2022-08-10 18:43','it_041',2,15,1,15),  
(76,'123','2022-08-10 18:43','it_036',22,15,1,15),
(77,'123','2022-08-10 18:43','it_033',2,15,1,15),
(78,'124','2022-08-10 20:01','it_014',1,16,1,16),
(79,'124','2022-08-10 20:01','it_019',2,16,1,16),
(80,'124','2022-08-10 20:01','it_020',2,16,1,16),
(81,'125','2022-08-10 13:08','it_041',1,17,1,17),
(82,'125','2022-08-10 13:08','it_008',1,17,1,17),
(83,'125','2022-08-10 13:08','it_009',2,17,1,17),
(84,'125','2022-08-10 13:08','it_019',2,17,1,17), 
(85,'125','2022-08-10 13:08','it_018',2,17,1,17),
(86,'125','2022-08-10 13:08','it_020',3,17,1,17),  
(87,'125','2022-08-10 13:08','it_026',4,17,1,17),
(88,'125','2022-08-10 13:08','it_030',1,17,1,17),
(89,'125','2022-08-10 13:08','it_028',2,17,1,17),
(90,'126','2022-08-10 12:46','it_004',1,18,0,18),
(91,'126','2022-08-10 12:46','it_018',1,18,0,18),  
(92,'126','2022-08-10 12:46','it_019',1,18,0,18),
(93,'126','2022-08-10 12:46','it_025',1,18,0,18),
(94,'126','2022-08-10 12:46','it_029',1,18,0,18),
(95,'127','2022-08-10 13:35','it_008',1,19,1,19),
(96,'127','2022-08-10 13:35','it_019',1,19,1,19),
(97,'127','2022-08-10 13:35','it_026',1,19,1,19),  
(98,'127','2022-08-10 13:35','it_040',1,19,1,19), 
(99,'127','2022-08-10 13:35','it_042',1,19,1,19),
(100,'128','2022-08-10 21:28','it_003',1,20,1,20),
(101,'128','2022-08-10 21:28','it_018',1,20,1,20),
(102,'128','2022-08-10 21:28','it_036',1,20,1,20),
(103,'128','2022-08-10 21:28','it_012',1,20,1,20),
(104,'129','2022-08-10 19:42','it_008',1,21,1,21),  
(105,'129','2022-08-10 19:42','it_015',1,21,1,21),
(106,'129','2022-08-10 19:42','it_026',1,21,1,21),
(107,'129','2022-08-10 19:42','it_036',2,21,1,21),
(108,'130','2022-08-10 19:51','it_001',1,22,1,22),
(109,'130','2022-08-10 19:51','it_003',1,22,1,22), 
(110,'130','2022-08-10 19:51','it_006',1,22,1,22),
(111,'130','2022-08-10 19:51','it_020',1,22,1,22),
(112,'130','2022-08-10 19:51','it_021',1,22,1,22),
(113,'130','2022-08-10 19:51','it_023',1,22,1,22),
(114,'130','2022-08-10 19:51','it_040',2,22,1,22),
(115,'130','2022-08-10 19:51','it_030',1,22,1,22),
(116,'130','2022-08-10 19:51','it_032',1,22,1,22),
(117,'131','2022-08-10 13:51','it_004',1,23,1,23),
(118,'131','2022-08-10 13:51','it_016',1,23,1,23),
(119,'131','2022-08-10 13:51','it_018',1,23,1,23), 
(120,'131','2022-08-10 13:51','it_025',1,23,1,23),
(121,'131','2022-08-10 13:51','it_026',1,23,1,23),
(122,'131','2022-08-10 13:51','it_037',1,23,1,23),
(123,'132','2022-08-10 13:31','it_001',1,24,1,24),
(124,'132','2022-08-10 13:31','it_008',1,24,1,24),
(125,'132','2022-08-10 13:31','it_012',1,24,1,24),
(126,'132','2022-08-10 13:31','it_025',1,24,1,24),
(127,'132','2022-08-10 13:31','it_042',2,24,1,24),
(128,'133','2022-08-10 20:36','it_003',1,25,1,25),
(129,'134','2022-08-10 19:11','it_004',2,26,1,26),
(130,'134','2022-08-10 19:11','it_007',1,26,0,26),
(131,'134','2022-08-10 19:11','it_011',5,26,0,26),  
(132,'134','2022-08-10 19:11','it_019',5,26,0,26),
(133,'134','2022-08-10 19:11','it_025',10,26,0,26),
(134,'134','2022-08-10 19:11','it_026',5,26,0,26),
(135,'134','2022-08-10 19:11','it_027',5,26,0,26),
(136,'134','2022-08-10 19:11','it_022',20,26,0,26),
(137,'134','2022-08-10 19:11','it_041',1,26,0,26),
(138,'135','2022-08-10 13:29','it_004',3,27,1,27),  
(139,'135','2022-08-10 13:29','it_019',2,27,1,27),
(140,'135','2022-08-10 13:29','it_018',3,27,1,27),
(141,'135','2022-08-10 13:29','it_020',2,27,1,27),
(142,'136','2022-08-10 18:58','it_029',2,28,1,28),
(143,'136','2022-08-10 18:58','it_004',2,28,1,28),
(144,'136','2022-08-10 18:58','it_025',4,28,1,28),
(145,'137','2022-08-10 13:14','it_003',1,29,0,29),  
(146,'137','2022-08-10 13:14','it_011',1,29,0,29),
(147,'137','2022-08-10 13:14','it_017',1,29,0,29),
(148,'137','2022-08-10 13:14','it_036',2,29,0,29),
(149,'138','2022-08-10 13:12','it_019',1,30,1,30),
(150,'138','2022-08-10 13:12','it_018',2,30,1,30),
(151,'138','2022-08-10 13:12','it_025',1,30,1,30),
(152,'138','2022-08-10 13:12','it_017',1,30,1,30),  
(153,'139','2022-08-10 19:19','it_001',1,31,1,31),
(154,'139','2022-08-10 19:19','it_003',1,31,1,31),
(155,'139','2022-08-10 19:19','it_008',1,31,1,31),
(156,'139','2022-08-10 19:19','it_010',1,31,1,31),
(157,'139','2022-08-10 19:19','it_014',1,31,1,31),
(158,'139','2022-08-10 19:19','it_017',1,31,1,31),
(159,'139','2022-08-10 19:19','it_018',6,31,1,31),  
(160,'139','2022-08-10 19:19','it_019',9,31,1,31),
(161,'139','2022-08-10 19:19','it_020',1,31,1,31),
(162,'140','2022-08-10 13:32','it_018',2,32,1,32),
(163,'140','2022-08-10 13:32','it_016',1,32,1,32),
(164,'140','2022-08-10 13:32','it_025',1,32,1,32),
(165,'140','2022-08-10 13:32','it_029',1,32,1,32),
(166,'141','2022-08-10 21:20','it_026',1,33,0,33),
(167,'141','2022-08-10 21:20','it_025',1,33,0,33),  
(168,'141','2022-08-10 21:20','it_006',1,33,0,33),
(169,'141','2022-08-10 21:20','it_009',1,33,0,33),
(170,'141','2022-08-10 21:20','it_008',1,33,0,33),
(171,'142','2022-08-10 22:02','it_001',3,34,1,34),
(172,'142','2022-08-10 22:02','it_019',3,34,1,34),
(173,'142','2022-08-10 22:02','it_023',3,34,1,34),
(174,'142','2022-08-10 22:02','it_033',3,34,1,34),
(175,'143','2022-08-10 19:02','it_001',1,35,0,35),
(176,'143','2022-08-10 19:02','it_003',1,35,0,35),  
(177,'143','2022-08-10 19:02','it_019',1,35,0,35),
(178,'143','2022-08-10 19:02','it_026',1,35,0,35),
(179,'144','2022-08-10 19:44','it_004',1,36,1,36),
(180,'144','2022-08-10 19:44','it_007',1,36,1,36),
(181,'144','2022-08-10 19:44','it_027',1,36,1,36),
(182,'144','2022-08-10 19:44','it_021',1,36,1,36),
(183,'144','2022-08-10 19:44','it_032',1,36,1,36),
(184,'144','2022-08-10 19:44','it_028',1,36,1,36),
(185,'145','2022-08-10 20:04','it_004',1,37,1,37),  
(186,'145','2022-08-10 20:04','it_013',2,37,1,37),
(187,'145','2022-08-10 20:04','it_006',1,37,1,37),
(188,'145','2022-08-10 20:04','it_018',3,37,1,37),
(189,'145','2022-08-10 20:04','it_020',2,37,1,37),
(190,'145','2022-08-10 20:04','it_027',2,37,1,37),
(191,'145','2022-08-10 20:04','it_041',1,37,1,37),
(192,'146','2022-08-10 20:34','it_005',1,38,1,38),
(193,'146','2022-08-10 20:34','it_007',1,38,1,38),
(194,'146','2022-08-10 20:34','it_004',1,38,1,38),  
(195,'146','2022-08-10 20:34','it_026',2,38,1,38),
(196,'146','2022-08-10 20:34','it_034',1,38,1,38),
(197,'146','2022-08-10 20:34','it_030',1,38,1,38),
(198,'147','2022-08-10 13:24','it_039',1,39,1,39),
(199,'147','2022-08-10 13:24','it_025',2,39,1,39),
(200,'147','2022-08-10 13:24','it_009',2,39,1,39),
(201,'148','2022-08-10 19:44','it_004',2,40,1,40),  
(202,'148','2022-08-10 19:44','it_001',1,40,1,40),
(203,'148','2022-08-10 19:44','it_003',3,40,1,40),
(204,'149','2022-08-10 21:02','it_012',1,41,0,41),
(205,'149','2022-08-10 21:02','it_004',1,41,0,41), 
(206,'149','2022-08-10 21:02','it_020',1,41,0,41),
(207,'149','2022-08-10 21:02','it_017',1,41,0,41),
(208,'149','2022-08-10 21:02','it_026',1,41,0,41),
(209,'149','2022-08-10 21:02','it_025',1,41,0,41),
(210,'149','2022-08-10 21:02','it_039',1,41,0,41),
(211,'150','2022-08-10 22:29','it_003',2,42,1,42),
(212,'150','2022-08-10 22:29','it_005',1,42,1,42),
(213,'150','2022-08-10 22:29','it_017',2,42,1,42),  
(214,'150','2022-08-10 22:29','it_020',1,42,1,42),
(215,'150','2022-08-10 22:29','it_025',1,42,1,42),
(216,'150','2022-08-10 22:29','it_022',1,42,1,42),
(217,'150','2022-08-10 22:29','it_041',1,42,1,42),
(218,'151','2022-08-10 13:38','it_025',4,43,0,43),
(219,'151','2022-08-10 13:38','it_018',2,43,0,43),
(220,'151','2022-08-10 13:38','it_004',1,43,0,43),  
(221,'151','2022-08-10 13:38','it_001',1,43,0,43),
(222,'151','2022-08-10 13:38','it_007',1,43,0,43),
(223,'151','2022-08-10 13:38','it_011',2,43,0,43),
(224,'151','2022-08-10 13:38','it_010',3,43,0,43),
(225,'151','2022-08-10 13:38','it_013',1,43,0,43),  
(226,'151','2022-08-10 13:38','it_019',2,43,0,43),
(227,'151','2022-08-10 13:38','it_028',3,43,0,43),
(228,'151','2022-08-10 13:38','it_033',3,43,1,43),
(229,'152','2022-08-10 13:04','it_003',1,44,1,44),
(230,'152','2022-08-10 13:04','it_007',1,44,1,44),
(231,'152','2022-08-10 13:04','it_019',1,44,1,44),
(232,'152','2022-08-10 13:04','it_025',1,44,1,44),  
(233,'152','2022-08-10 13:04','it_032',1,44,1,44),
(234,'152','2022-08-10 13:04','it_029',1,44,1,44),
(235,'153','2022-08-10 13:43','it_002',1,45,1,45),
(236,'153','2022-08-10 13:43','it_016',1,45,1,45),
(237,'153','2022-08-10 13:43','it_020',1,45,1,45),
(238,'153','2022-08-10 13:43','it_021',1,45,1,45),
(239,'153','2022-08-10 13:43','it_029',1,45,1,45),  
(240,'153','2022-08-10 13:43','it_037',1,45,1,45),
(241,'154','2022-08-10 22:13','it_001',1,46,1,46),
(242,'154','2022-08-10 22:13','it_009',1,46,1,46),
(243,'155','2022-08-10 21:43','it_012',1,47,1,47),
(244,'155','2022-08-10 21:43','it_019',1,47,1,47),
(245,'155','2022-08-10 21:43','it_020',2,47,1,47),  
(246,'155','2022-08-10 21:43','it_037',1,47,1,47),
(247,'156','2022-08-10 22:29','it_008',20,48,1,48),
(248,'156','2022-08-10 22:29','it_002',1,48,1,48),
(249,'156','2022-08-10 22:29','it_003',8,48,1,48),
(250,'156','2022-08-10 22:29','it_007',5,48,1,48), 
(251,'156','2022-08-10 22:29','it_010',1,48,1,48),
(252,'156','2022-08-10 22:29','it_013',1,48,1,48),
(253,'157','2022-08-10 22:47','it_008',1,49,1,49),
(254,'157','2022-08-10 22:47','it_009',1,49,1,49),  
(255,'157','2022-08-10 22:47','it_020',2,49,1,49),
(256,'157','2022-08-10 22:47','it_026',1,49,1,49),
(257,'157','2022-08-10 22:47','it_024',2,49,1,49),
(258,'157','2022-08-10 22:47','it_023',2,49,1,49),
(259,'158','2022-08-10 12:06','it_011',1,50,1,50), 
(260,'158','2022-08-10 12:06','it_016',1,50,1,50),
(261,'158','2022-08-10 12:06','it_020',1,50,1,50),
(262,'158','2022-08-10 12:06','it_025',2,50,1,50),
(263,'159','2022-08-10 13:40','it_002',1,51,1,51),
(264,'159','2022-08-10 13:40','it_008',1,51,1,51),
(265,'159','2022-08-10 13:40','it_012',2,51,1,51),
(266,'159','2022-08-10 13:40','it_016',2,51,0,51), 
(267,'159','2022-08-10 13:40','it_006',1,51,0,51),
(268,'159','2022-08-10 13:40','it_017',2,51,0,51),  
(269,'159','2022-08-10 13:40','it_018',2,51,0,51),
(270,'159','2022-08-10 13:40','it_019',2,51,0,51),
(271,'159','2022-08-10 13:40','it_020',2,51,0,51),
(272,'159','2022-08-10 13:40','it_022',1,51,0,51),
(273,'159','2022-08-10 13:40','it_024',1,51,0,51),
(274,'159','2022-08-10 13:40','it_023',1,51,0,51), 
(275,'159','2022-08-10 13:40','it_021',1,51,0,51),
(276,'159','2022-08-10 13:40','it_025',5,51,0,51),
(277,'159','2022-08-10 13:40','it_026',5,51,1,51), 
(278,'159','2022-08-10 13:40','it_027',1,51,1,51),  
(279,'159','2022-08-10 13:40','it_037',1,51,1,51),
(280,'160','2022-08-10 20:15','it_004',2,52,1,52),
(281,'160','2022-08-10 20:15','it_011',1,52,1,52),
(282,'160','2022-08-10 20:15','it_006',4,52,1,52),
(283,'160','2022-08-10 20:15','it_020',1,52,1,52),
(284,'160','2022-08-10 20:15','it_019',1,52,1,52),  
(285,'160','2022-08-10 20:15','it_018',1,52,1,52),
(286,'160','2022-08-10 20:15','it_017',1,52,1,52),
(287,'160','2022-08-10 20:15','it_021',3,52,1,52),
(288,'160','2022-08-10 20:15','it_025',1,52,1,52),
(289,'160','2022-08-10 20:15','it_041',3,52,1,52), 
(290,'160','2022-08-10 20:15','it_036',1,52,1,52),
(291,'160','2022-08-10 20:15','it_033',1,52,1,52),
(292,'161','2022-08-10 21:42','it_007',10,53,1,53),
(293,'162','2022-08-10 12:51','it_006',1,54,1,54),  
(294,'162','2022-08-10 12:51','it_008',1,54,1,54),
(295,'162','2022-08-10 12:51','it_017',1,54,1,54),
(296,'163','2022-08-10 13:00','it_006',1,55,1,55),
(297,'163','2022-08-10 13:00','it_002',1,55,1,55),
(298,'163','2022-08-10 13:00','it_017',1,55,1,55),
(299,'164','2022-08-10 21:01','it_002',1,56,1,56), 
(300,'164','2022-08-10 21:01','it_004',1,56,1,56),
(301,'164','2022-08-10 21:01','it_012',1,56,1,56),
(302,'164','2022-08-10 21:01','it_019',2,56,1,56),
(303,'164','2022-08-10 21:01','it_020',2,56,1,56),  
(304,'164','2022-08-10 21:01','it_026',1,56,1,56),
(305,'164','2022-08-10 21:01','it_029',2,56,1,56),
(306,'165','2022-08-10 19:19','it_017',2,57,0,57),
(307,'165','2022-08-10 19:19','it_004',1,57,0,57),
(308,'165','2022-08-10 19:19','it_002',1,57,0,57),
(309,'165','2022-08-10 19:19','it_026',1,57,0,57),  
(310,'165','2022-08-10 19:19','it_031',1,57,0,57),
(311,'166','2022-08-10 14:22','it_007',1,58,1,58),
(312,'166','2022-08-10 14:22','it_019',1,58,1,58),
(313,'166','2022-08-10 14:22','it_025',1,58,1,58),
(314,'166','2022-08-10 14:22','it_029',1,58,1,58);

INSERT INTO rota VALUES 
(1,'ro0001','2022-08-10','sh0005','st0001'),
(2,'ro0001','2022-08-10','sh0005','st0002'),  
(3,'ro0001','2022-08-10','sh0005','st0009'),
(4,'ro0001','2022-08-10','sh0005','st0010'),
(5,'ro0001','2022-08-10','sh0006','st0001'),
(6,'ro0001','2022-08-10','sh0006','st0002'),
(7,'ro0001','2022-08-10','sh0006','st0009'),
(8,'ro0001','2022-08-10','sh0006','st0010'),
(9,'ro0002','2022-08-11','sh0007','st0001'),
(10,'ro0002','2022-08-11','sh0007','st0002'),
(11,'ro0002','2022-08-11','sh0007','st0009'), 
(12,'ro0002','2022-08-11','sh0007','st0010'),  
(13,'ro0002','2022-08-11','sh0008','st0001'),
(14,'ro0002','2022-08-11','sh0008','st0002'),
(15,'ro0002','2022-08-11','sh0008','st0009'),
(16,'ro0002','2022-08-11','sh0008','st0010'),
(17,'ro0003','2022-08-12','sh0009','st0001'),
(18,'ro0003','2022-08-12','sh0009','st0002'),
(19,'ro0003','2022-08-12','sh0009','st0009'),
(20,'ro0003','2022-08-12','sh0009','st0010'),
(21,'ro0003','2022-08-12','sh0010','st0001'), 
(22,'ro0003','2022-08-12','sh0010','st0002'), 
(23,'ro0003','2022-08-12','sh0010','st0009'),
(24,'ro0003','2022-08-12','sh0010','st0010'),
(25,'ro0004','2022-08-13','sh0011','st0003'),
(26,'ro0004','2022-08-13','sh0011','st0004'), 
(27,'ro0004','2022-08-13','sh0011','st0011'),
(28,'ro0004','2022-08-13','sh0011','st0012'),
(29,'ro0004','2022-08-13','sh0012','st0003'),
(30,'ro0004','2022-08-13','sh0012','st0004'),
(31,'ro0004','2022-08-13','sh0012','st0011'),
(32,'ro0004','2022-08-13','sh0012','st0012'),
(33,'ro0005','2022-08-14','sh0013','st0003'),
(34,'ro0005','2022-08-14','sh0013','st0004'),
(35,'ro0005','2022-08-14','sh0013','st0011'),  
(36,'ro0005','2022-08-14','sh0013','st0012'),
(37,'ro0005','2022-08-14','sh0014','st0003'),
(38,'ro0005','2022-08-14','sh0014','st0004'),
(39,'ro0005','2022-08-14','sh0014','st0011'),
(40,'ro0005','2022-08-14','sh0014','st0012');


# DASHBOARD 1 - Order Activity
# For this, we will need a dashboard with following data:
# 1 - Total Orders
# 2 - Total Sales
# 3 - Total Items
# 4 - Average order values
# 5 - Sales by category
# 6 - Top selling items
# 7 - Orders by hour
# 8 - Sales by hour
# 9 - Orders by address
# 10 - Orders by delivery/Pick up 

SELECT 
o.order_id,
i.item_price,
o.quantity,
i.item_cat,
i.item_name,
o.created_at,
a.delivery_address1,
a.delivery_address2,
a.delivery_city,
a.delivery_zipcode,
o.delivery
FROM orders o 
LEFT JOIN item i ON o.item_id = i.item_id
LEFT JOIN address a ON o.add_id = a.add_id;

# DASHBOARD 2 - Inventory Management
# For this, we will need a dashboard with following data:
# 1 - Total quanity by ingredient = No. of orders x Ingredient quantity in recipe
# 2 - Total cost of ingredients
# 3 - Calculated cost of pizza
# 4 - Percentage stock remaining by ingredient

SELECT 
s1.item_name,
s1.ing_id,
s1.ing_name,
s1.ing_weight,
s1.ing_price,
s1.order_quantity,
s1.recipe_quantity,
s1.order_quantity*s1.recipe_quantity as ordered_weight,
s1.ing_price/s1.ing_weight as unit_cost,
(s1.order_quantity*s1.recipe_quantity)*(s1.ing_price/s1.ing_weight) as ingredient_cost
FROM
(SELECT 
o.item_id,
i.sku,
i.item_name,
r.ing_id,
ing.ing_name,
r.quantity as recipe_quantity,
sum( o.quantity ) as order_quantity,
ing.ing_weight,
ing.ing_price
FROM orders o 
LEFT JOIN item i on o.item_id = i.item_id
LEFT JOIN recipe r on i.sku = r.recipe_id
LEFT JOIN ingredient ing on ing.ing_id = r.ing_id
GROUP BY 
	o.item_id, 
    i.sku, 
    i.item_name,
    r.ing_id,
    r.quantity,
    ing.ing_name,
    ing.ing_weight,
	ing.ing_price) S1;
    
 
 SELECT 
 S2.ing_name,
 S2.ordered_weight,
 ing.ing_weight*inv.quantity as total_inv_weight,
 (ing.ing_weight*inv.quantity)-S2.ordered_weight as remaining_weight
 FROM
(SELECT
ing_id, 
ing_name,
sum(ordered_weight) as ordered_weight
FROM new_view
GROUP BY 
ing_name,
ing_id) S2
LEFT JOIN inventory inv ON inv.item_id = S2.ing_id
LEFT JOIN ingredient ing ON ing.ing_id = S2.ing_id;

SELECT 
r.date,
s.first_name,
s.last_name,
s.hourly_rate,
sh.start_time,
sh.end_time,
((HOUR(TIMEDIFF(sh.end_time, sh.start_time))*60)+(minute(TIMEDIFF(sh.end_time, sh.start_time))))/60 AS hours_in_shift,
((HOUR(TIMEDIFF(sh.end_time, sh.start_time))*60)+(minute(TIMEDIFF(sh.end_time, sh.start_time))))/60 *s.hourly_rate AS staff_cost
FROM rota r
LEFT JOIN staff s ON r.staff_id = s.staff_id
LEFT JOIN shift sh ON r.shift_id = sh.shift_id;